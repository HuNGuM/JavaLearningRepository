<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.29.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="create_sequence" author="Dell (generated)">
        <createSequence incrementBy="50" sequenceName="reservations_seq" startValue="1"/>
    </changeSet>
    <changeSet id="table_created" author="Dell (generated)">
        <createTable tableName="reservations">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_reservations"/>
            </column>
            <column name="client_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="instructor_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="pool_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date_and_time" type="VARCHAR(90)">
                <constraints nullable="false"/>
            </column>
            <column name="duration" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="fio_constraint" author="Dell (generated)">
        <addUniqueConstraint columnNames="fio" constraintName="uc_employees_fio" tableName="employees"/>
    </changeSet>
    <changeSet id="login_constraint" author="Dell (generated)">
        <addUniqueConstraint columnNames="login" constraintName="uc_employees_login" tableName="employees"/>
    </changeSet>
    <changeSet id="client_id_constraint" author="Dell (generated)">
        <addUniqueConstraint columnNames="client_id" constraintName="uc_reservations_client" tableName="reservations"/>
    </changeSet>
    <changeSet id="instructor_id_constraint" author="Dell (generated)">
        <addUniqueConstraint columnNames="instructor_id" constraintName="uc_reservations_instructor"
                             tableName="reservations"/>
    </changeSet>
    <changeSet id="pool_id_constraint" author="Dell (generated)">
        <addUniqueConstraint columnNames="pool_id" constraintName="uc_reservations_pool" tableName="reservations"/>
    </changeSet>
    <changeSet id="drop_sequence" author="Dell (generated)">
        <dropSequence sequenceName="employee_seq"/>
    </changeSet>

</databaseChangeLog>